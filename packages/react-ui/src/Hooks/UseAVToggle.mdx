## useAVToggle

Use this hook to implement mute/unmute for local audio and video.
`isAllowedToPublish` can be used to decide whether to show the toggle buttons in the UI.

import { Story, Preview } from '@storybook/addon-docs';

### Interface

```ts
interface useAVToggleInput {
  /**
   * to handle any error during toggle of audio/video
   */
  handleError?: (err: Error, method?: string) => void;
}
```

```ts
interface useAVToggleResult {
  /**
   * true if unmuted and vice versa
   */
  isLocalAudioEnabled: boolean;
  isLocalVideoEnabled: boolean;
  /**
   * use this function to toggle audio state, the function will only be present if the user
   * has permission to unmute audio
   */
  toggleAudio?: () => void;
  /**
   * use this function to toggle video state, the function will only be present if the user
   * has permission to unmute video
   */
  toggleVideo?: () => void;
}
```

### Example

<Story id="hooks-useavtoggle--use-video-hook" />

```jsx
import { selectLocalVideoTrackID, useAVToggle, useHMSStore } from '@100mslive/react-sdk';
import { Flex, Box, Video } from '@100mslive/react-ui';

() => {
  const localVideoTrackID = useHMSStore(selectLocalVideoTrackID);
  const { isLocalVideoEnabled, isLocalAudioEnabled, toggleVideo, toggleAudio } = useAVToggle(err => {
    console.log(err);
  });

  return (
    <Box>
      <Flex gap="1">
        <button onClick={() => toggleVideo && toggleVideo()}>
          {isLocalVideoEnabled ? 'Disable video' : 'Enable video'}
        </button>
        <button onClick={() => toggleAudio && toggleAudio()}>
          {isLocalAudioEnabled ? 'Disable audio' : 'Enable audio'}
        </button>
      </Flex>
      <Video css={{ bg: '$backgroundDark', mt: '$4' }} trackId={localVideoTrackID} />
    </Box>
  );
};
```
