## UseParticipants

- This can be used to get the total count of participants in the room, participants
- Filtered by role or metadata with isHandRaised or the entire participants if no params are passed
- Participants result will provide details about HMSPeer, peerCount, and respective roles.

import { Story, Preview } from '@storybook/addon-docs';

### Interface

```ts
import { HMSPeer, HMSRoleName } from '@100mslive/hms-video-store';

export interface useParticipantsResult {
  /**
   * list of participants that match the given filters
   */
  participants: HMSPeer[];
  /**
   * Total number of participants in the room
   */
  peerCount: number;
  /**
   * is joined in the room
   */
  isConnected: boolean;
  /**
   * role names with atleast one participant present with that role
   */
  rolesWithParticipants: HMSRoleName[];
}
```

```ts
import { HMSRoleName } from '@100mslive/hms-video-store';

export type useParticipantsParams = {
  /** To filter by particular role */
  role: HMSRoleName,
  /**
   * To filter by particular by metadata. only supports { isHandRaised: true } for now
   * @beta
   */
  metadata: Record<string, any>,
  /** To filter by name/role (partial match) */
  search: string,
};
```

### Example

<Story id="hooks-useparticipants--use-participants-hook" />

```jsx
import { useParticipants } from '@100mslive/react-sdk';
import { Box, Flex, Text, Avatar } from '100mslive/react-ui';

() => {
  const { isConnected, participants, peerCount } = useParticipants();

  return (
    <Box>
      <Text>{peerCount} Participants</Text>
      <Flex>
        {participants.map(participant => (
          <Participant key={participant.id} peer={participant} isLocal={participant.id === localPeerId} />
        ))}
      </Flex>
    </Box>
  );
};

const Participant = ({ peer, isLocal = false }) => {
  return (
    <Flex>
      <Avatar name={peer.name} />
      <Flex>
        <Text>
          {isLocal ? 'You' : peer.name}
        </Text>
        <Text>{peer.roleName}</Text>
      </Flex>
    </Flex>
  );
};
```
